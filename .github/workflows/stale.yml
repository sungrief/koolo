name: "Manage Stale PRs"

on:
  schedule:
    - cron: '30 1 * * *'
  workflow_dispatch:

permissions:
  pull-requests: write
  issues: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          # Timing settings
          days-before-pr-stale: 21
          days-before-pr-close: 7
          
          # The "Friendly Info" message (posted when 30 days of inactivity pass)
          stale-pr-message: >
            This Pull Request has been inactive for 21 days. To keep our 
            queue manageable, we mark older PRs as stale. This doesn't mean the 
            work isn't appreciated. It's often just a matter of timing or current 
            project focus. 
            
            Weâ€™ll leave this open for another 7 days in case you have final 
            thoughts, but otherwise, it will be closed automatically to keep 
            things tidy. This doesn't mean the content is lost! Your work is archived here and 
            may be referenced or reused in the future.
          
          # The closing message
          close-pr-message: >
            This Pull Request has been automatically closed. As mentioned before, 
            this doesn't mean the content is lost! Your work is archived here and 
            may be referenced or reused in the future when it fits the project 
            roadmap better. 
            
            If you feel this is still a priority, feel free to comment or reopen 
            when you're ready to continue. Thank you!
          
          # Label settings
          stale-pr-label: 'stale'
          
          # Settings to ignore Issues
          days-before-issue-stale: -1
          days-before-issue-close: -1
