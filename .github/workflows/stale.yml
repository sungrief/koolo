name: "Manage Stale PRs"

on:
  schedule:
    # Run every day at 1:30 AM UTC
    - cron: '30 1 * * *'
  # Allows you to run this workflow manually from the Actions tab for testing
  workflow_dispatch:

permissions:
  # Required to allow the bot to label and close items
  pull-requests: write
  issues: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          # --- Pull Request Settings ---
          
          # Days inactive before marking as stale (Your request: 30)
          days-before-pr-stale: 21
          
          # Days inactive after labeling before closing (Your request: 10)
          days-before-pr-close: 7
          
          # The message posted when marking as stale
          stale-pr-message: 'This Pull Request has been automatically marked as stale because it has not had recent activity. It will be closed in 10 days if no further activity occurs.'
          
          # The message posted when closing
          close-pr-message: 'This Pull Request was automatically closed because it has been stalled for 10 days with no activity.'
          
          # The label to apply (make sure this label exists, or the bot will create it)
          stale-pr-label: 'stale'
          
          # --- Issue Settings (Disabled) ---
          # Set to -1 to ignore Issues and only focus on PRs
          days-before-issue-stale: -1
          days-before-issue-close: -1
